
# 深入理解CPU上下文切换 

## https://www.cnblogs.com/winclpt/articles/10873024.html



save and recovery

上下文:

指令计数器 EIP RIP
栈 
堆
进程/线程 信息头文件
......

指令权限 级别 R0~R3
R0 内核 所有指令和资源
R3 用户 受限的资源访问,尤其是 内存 和 硬件
所有 用户态程序 和 内核 交互时候 需要 复制内存资源 才能在内核 操作





进程/线程 切换 时间片 
切换时机: 
    单位时间片完 时钟中断 是否执行进程调度程序
    COMS OS计数器 时间源

进程切换

线程切换  1.进程间线程切换 需要保存 上下文 
        2.进程内线程切换  保存少量私有资源(上下文 状态)  可不用保存上下文

上下文 还涉及到 虚拟内存 和 物理内存 的问题


